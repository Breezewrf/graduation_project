# FCN论文阅读笔记

[语义分割--全卷积网络FCN详解 - 我的明天不是梦 - 博客园 (cnblogs.com)](https://www.cnblogs.com/xiaoboge/p/10502697.html)

- ~~U-Net在上采样使用的是转置卷积（也有人称反卷积），而FCN上采样使用的是向上池化操作。~~
- U-Net在实现Skip Connection时采用拼接的方式进行特征融合（通道数叠加），而FCN融合时使用的对应点相加（通道数不变）。

**:star:本文核心看点**

>\-	 解决了传统CNN分割要对像素周围patches进行检测的问题——速度慢、开销大、感受野小
>
>\- 	不含全连接层(fc)的全卷积(fully conv)网络。可适应任意尺寸输入。
>
> \- 	上采样的反卷积(deconv)层。能够输出精细的结果。
>
>\- 	结合不同深度层结果的跳级(skip)结构。同时确保鲁棒性和精确性。其中FCN-8s效果最好，也最接近**U型**结构(8s表示FCN层步长为8，图像放大8倍)——其实也证实了上采样要一步步向上采，一下跳太多效果不好——UNet就是一步步采样 
>
><font color='red'>（不知道为什么 反卷积stride=8就可以让图像增大8倍？）</font>

用转置卷积替代backbone(AlexNet、ResNet)最后的全连接层和全局平均池化层——即**全卷积网络FCN**

最后输出的通道表示类别，第c个通道存着的数值表示该像素点属于第c类的概率，因此`pred = pred.argmax(dim=1)`

## Abstract

卷积网络是产生层次特征的强大视觉模型。我们展示了卷积网络本身，经过端到端训练，像素对像素，在语义分割方面超过了最先进的水平。我们的关键观点是建立“全卷积”网络，它可以接受任意大小的输入，并通过有效的推理和学习产生相应大小的输出。我们定义并详述了全卷积网络的空间，解释了它们在空间密集预测任务中的应用，并与之前的模型建立了联系。我们将当代的分类网络(AlexNet[19]、VGG  net[31]和GoogLeNet[32])转化为全卷积网络，并通过对[4]进行微调将其学习后的表示转移到分割任务中。然后，我们定义了一种新颖的体系结构，该体系结构将来自深而粗的层的语义信息与来自浅而细的层的外观信息相结合，从而产生准确而详细的分割。我们的全卷积网络实现了最先进的PASCAL  VOC分割(相对提高20%，2012年平均IU为62.2%)，NYUDv2和SIFT Flow，而对典型图像的推理只需不到五分之一秒。

## 1. Introduction

卷积网络正在推动识别技术的进步。卷积神经网络不仅在全图分类方面得到了改善[19,31,32]，而且在结构化输出的局部任务上也取得了进展。其中包括bounding box目标检测[29,12,17]，部分和关键点预测[39,24]，以及局部通信[24,9]的进展。

在从粗推断到细推断的过程中（编码），自然的下一步是对每个像素进行预测。之前的方法使用卷积神经网络进行语义分割[27,2,8,28,16,14,11]，其中每个像素都用其封闭对象或区域的类别进行标记，但存在本研究解决的不足。

我们发现，一个经过端到端训练、像素到像素语义分割的全卷积网络(FCN)在没有硬件设备改进的情况下超过了目前的技术水平。据我们所知，这是第一次训练端到端训练像素级检测FCN网络以及使用监督预训练。现有网络的全卷积版本可以预测来自任意大小输入的密集输出。该算法通过密集的前馈计算和反向传播实现全图像实时学习和推理。网络内上采样层通过次采样池实现了像素预测和网络学习。

这种方法是有效的，无论是渐进的还是绝对的，并且避免了其他工作中需要的复杂性。Patchwise训练是常见的方法[27,2,8,28,11]，但缺乏全卷积训练的效率。我们的方法没有利用预处理和后处理的复杂性，包括超像素[8,16]，proposals[16,14]，或随机域或局部分类器的事后细化[8,16]。**我们的模型将最近在分类[19,31,32]方面的成功转化为密集预测**，方法是将分类网络重新解释为Fully Convolution和从学习的表示中进行微调fine tune。相比之下，之前的研究采用的是没有“有监督预训练”的小型卷积神经网络[8,28,27]。

语义切分面临语义和位置之间的内在矛盾:全局信息解决什么问题，局部信息解决哪里问题。深层特征在局部-全局金字塔中联合编码位置和语义。在第4.2节中，我们定义了一种新颖的“跳跃式”架构，将深度的、粗糙的语义信息和浅层的、精细的外观信息结合起来(见图3)。

在下一节中，我们将回顾深度分类网、卷积神经网络以及使用卷积网络进行语义分割的最新方法的相关工作。下面的章节解释FCN的设计和密集的预测权衡，介绍我们的网络内上采样和多层组合的架构，并描述我们的实验框架。

## 2. Related work